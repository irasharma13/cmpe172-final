{"ast":null,"code":"import \"source-map-support/register\";\nimport * as ddbLib from './lib/ddb-lib';\nimport { success, failure } from './lib/response-objects';\nexport async function main(event, context) {\n  const table_params = {\n    TableName: process.env.tableName,\n    KeyConditionExpression: \"userid = :userid\",\n    ExpressionAttributeValues: {\n      \":userid\": event.requestContext.identity.cognitoIdentityId\n    }\n  };\n\n  try {\n    const result = await ddbLib.call(\"query\", tableParams);\n    return success(result.Items);\n  } catch (e) {\n    return failure({\n      status: false\n    });\n  }\n}","map":{"version":3,"sources":["/Users/Maq0831/Desktop/aws/eos/eos-backend/list.js"],"names":["ddbLib","success","failure","main","event","context","table_params","TableName","process","env","tableName","KeyConditionExpression","ExpressionAttributeValues","requestContext","identity","cognitoIdentityId","result","call","tableParams","Items","e","status"],"mappings":";AAAA,OAAO,KAAKA,MAAZ,MAAwB,eAAxB;AACA,SAASC,OAAT,EAAmBC,OAAnB,QAAkC,wBAAlC;AAEA,OAAO,eAAeC,IAAf,CAAoBC,KAApB,EAA2BC,OAA3B,EAAoC;AAC1C,QAAMC,YAAY,GAAG;AACpBC,IAAAA,SAAS,EAAEC,OAAO,CAACC,GAAR,CAAYC,SADH;AAEpBC,IAAAA,sBAAsB,EAAE,kBAFJ;AAGpBC,IAAAA,yBAAyB,EAAE;AAC1B,iBAAUR,KAAK,CAACS,cAAN,CAAqBC,QAArB,CAA8BC;AADd;AAHP,GAArB;;AAOA,MAAI;AACH,UAAMC,MAAM,GAAG,MAAMhB,MAAM,CAACiB,IAAP,CAAY,OAAZ,EAAqBC,WAArB,CAArB;AACA,WAAOjB,OAAO,CAACe,MAAM,CAACG,KAAR,CAAd;AACA,GAHD,CAGC,OAAOC,CAAP,EAAU;AACV,WAAOlB,OAAO,CAAC;AAACmB,MAAAA,MAAM,EAAC;AAAR,KAAD,CAAd;AACA;AACD","sourcesContent":["import * as ddbLib from './lib/ddb-lib';\nimport { success , failure } from './lib/response-objects';\n\nexport async function main(event, context) {\n\tconst table_params = {\n\t\tTableName: process.env.tableName,\n\t\tKeyConditionExpression: \"userid = :userid\",\n\t\tExpressionAttributeValues: {\n\t\t\t\":userid\":event.requestContext.identity.cognitoIdentityId\n\t\t}\n\t};\n\ttry {\n\t\tconst result = await ddbLib.call(\"query\", tableParams);\n\t\treturn success(result.Items)\n\t}catch (e) {\n\t\treturn failure({status:false});\n\t}\n}"]},"metadata":{},"sourceType":"module"}